(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1796)}])},1796:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Home}});var i=t(5893),s=t(7294),a=t(7792),l=t.n(a),o=t(477),r=t.n(o);function DragDropZone(e){let{onFilesSelected:n,files:t}=e,a=(0,s.useCallback)(e=>{e.preventDefault();let t=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/"));n(t)},[n]),l=(0,s.useCallback)(e=>{e.preventDefault()},[]),o=(0,s.useCallback)(e=>{let t=Array.from(e.target.files).filter(e=>e.type.startsWith("image/"));n(t)},[n]);return(0,i.jsxs)("div",{className:r().dropZone,onDrop:a,onDragOver:l,children:[(0,i.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:o,className:r().fileInput,id:"fileInput"}),(0,i.jsx)("label",{htmlFor:"fileInput",className:r().dropZoneLabel,children:(0,i.jsx)("div",{className:r().dropZoneContent,children:(0,i.jsx)("p",{children:"Drag & drop images here or click to select"})})})]})}var d=t(5750),c=t.n(d);function AdvancedOptions(e){let{options:n,onChange:t}=e,[a,l]=(0,s.useState)(!1),handleChange=e=>{let{name:i,value:s,type:a,checked:l}=e.target;t({...n,[i]:"checkbox"===a?l:"number"===a?Number(s):s})};return(0,i.jsxs)("div",{className:c().advancedOptions,children:[(0,i.jsxs)("button",{className:c().toggleButton,onClick:()=>l(!a),children:[(0,i.jsx)("h3",{children:"Advanced Options"}),(0,i.jsx)("span",{className:"".concat(c().arrow," ").concat(a?c().expanded:""),children:"▼"})]}),(0,i.jsxs)("div",{className:"".concat(c().optionsContent," ").concat(a?c().expanded:""),children:[(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:["Quality: ",n.quality,"%",(0,i.jsx)("input",{type:"range",name:"quality",min:"1",max:"100",value:n.quality,onChange:handleChange,className:c().slider})]})}),(0,i.jsxs)("div",{className:c().dimensionsGroup,children:[(0,i.jsx)("div",{className:c().dimensionInput,children:(0,i.jsxs)("label",{children:["Width:",(0,i.jsx)("input",{type:"number",name:"width",value:n.width||"",onChange:handleChange,placeholder:"Auto",min:"1"})]})}),(0,i.jsx)("div",{className:c().dimensionInput,children:(0,i.jsxs)("label",{children:["Height:",(0,i.jsx)("input",{type:"number",name:"height",value:n.height||"",onChange:handleChange,placeholder:"Auto",min:"1"})]})})]}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:["Resize Mode:",(0,i.jsxs)("select",{name:"resizeMode",value:n.resizeMode,onChange:handleChange,className:c().select,children:[(0,i.jsx)("option",{value:"none",children:"Original Size"}),(0,i.jsx)("option",{value:"exact",children:"Exact Size"}),(0,i.jsx)("option",{value:"fit",children:"Fit Within"}),(0,i.jsx)("option",{value:"fill",children:"Fill Area"})]})]})}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"maintainAspectRatio",checked:n.maintainAspectRatio,onChange:handleChange}),"Maintain aspect ratio"]})}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:["Rotation:",(0,i.jsxs)("select",{name:"rotation",value:n.rotation,onChange:handleChange,className:c().select,children:[(0,i.jsx)("option",{value:"0",children:"0\xb0"}),(0,i.jsx)("option",{value:"90",children:"90\xb0"}),(0,i.jsx)("option",{value:"180",children:"180\xb0"}),(0,i.jsx)("option",{value:"270",children:"270\xb0"})]})]})}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"flipHorizontal",checked:n.flipHorizontal,onChange:handleChange}),"Flip Horizontal"]})}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"flipVertical",checked:n.flipVertical,onChange:handleChange}),"Flip Vertical"]})}),(0,i.jsx)("div",{className:c().optionGroup,children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"lossless",checked:n.lossless,onChange:handleChange}),"Lossless compression"]})})]})]})}var p=t(3185),h=t.n(p);function FileList(e){let{files:n,convertedFiles:t}=e,[a,l]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=n.filter(e=>!a[e.name]);if(e.length>0){let n={};e.forEach(e=>{n[e.name]={progress:0,status:"pending"}}),l(e=>({...e,...n}))}},[n]),(0,s.useEffect)(()=>{let e={};t.forEach(n=>{e[n.original.name]={progress:100,status:"completed"}}),l(n=>({...n,...e}))},[t]);let handleDownload=(e,n)=>{let t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)},handleDownloadAll=async()=>{for(let e of t)await new Promise(e=>setTimeout(e,500)),handleDownload(e.converted,e.name)};return(0,i.jsxs)("div",{className:h().fileLists,children:[(0,i.jsxs)("div",{className:h().fileListSection,children:[(0,i.jsx)("h4",{children:"Files"}),(0,i.jsx)("div",{className:h().fileList,children:n.map((e,n)=>{let s=a[e.name]||{progress:0,status:"pending"},l=t.find(n=>n.original.name===e.name);return(0,i.jsxs)("div",{className:h().fileItem,children:[(0,i.jsxs)("div",{className:h().fileInfo,children:[(0,i.jsx)("span",{className:h().fileName,title:e.name,children:e.name}),(0,i.jsxs)("div",{className:h().progressWrapper,children:[(0,i.jsx)("div",{className:h().progressBar,style:{width:"".concat(s.progress,"%")}}),(0,i.jsx)("span",{className:h().progressText,children:"completed"===s.status?"Converted":"Pending"})]})]}),l&&(0,i.jsx)("button",{onClick:()=>handleDownload(l.converted,l.name),className:h().downloadButton,title:"Download",children:"⬇️"})]},n)})})]}),t.length>1&&(0,i.jsx)("div",{className:h().downloadAllWrapper,children:(0,i.jsx)("button",{onClick:handleDownloadAll,className:h().downloadAllButton,children:"Download All"})})]})}function Index(e){let{navigateToPage:n}=e,[t,a]=(0,s.useState)([]),[o,r]=(0,s.useState)({quality:80,resizeMode:"none",width:null,height:null,rotation:"0",flipHorizontal:!1,flipVertical:!1,maintainAspectRatio:!0,lossless:!1}),[d,c]=(0,s.useState)([]),handleConvert=async()=>{let e=[];for(let n of t)if(n.type.startsWith("image/")){let t=await convertToWebP(n,o);e.push({original:n,converted:t,name:n.name.replace(/\.[^/.]+$/,".webp")})}c(e)};return(0,i.jsx)("div",{className:l().container,children:(0,i.jsxs)("main",{className:l().main,children:[(0,i.jsx)("h1",{className:l().title,children:"WebP Converter"}),(0,i.jsx)("p",{className:l().description,children:"convert your images to webp using this browser-based conversion tool!"}),(0,i.jsx)(DragDropZone,{onFilesSelected:e=>{a([...t,...e])},files:t}),(0,i.jsx)(AdvancedOptions,{options:o,onChange:r}),(0,i.jsx)(FileList,{files:t,convertedFiles:d}),(0,i.jsx)("button",{className:l().convertButton,onClick:handleConvert,disabled:0===t.length,children:"Convert to WebP"})]})})}async function convertToWebP(e,n){return new Promise(t=>{let i=new Image;i.onload=()=>{let e=document.createElement("canvas"),s=i.width,a=i.height;if("none"!==n.resizeMode&&(n.width||n.height)){let e=n.width||i.width,t=n.height||i.height;if(n.maintainAspectRatio){let l=i.width/i.height;switch(n.resizeMode){case"fit":e/t>l?s=(a=t)*l:a=(s=e)/l;break;case"fill":e/t>l?a=(s=e)/l:s=(a=t)*l;break;case"exact":s=e,a=t}}else s=e,a=t}e.width=s,e.height=a;let l=e.getContext("2d");l.save(),l.translate(e.width/2,e.height/2),l.rotate(Number(n.rotation)*Math.PI/180);let o=n.flipHorizontal?-1:1,r=n.flipVertical?-1:1;l.scale(o,r),l.drawImage(i,-s/2,-a/2,s,a),l.restore(),e.toBlob(e=>{t(e)},"image/webp",{quality:n.quality/100,lossless:n.lossless})},i.src=URL.createObjectURL(e)})}function Home(){let[e,n]=(0,s.useState)("index");return(0,i.jsx)(i.Fragment,{children:"index"===e&&(0,i.jsx)(Index,{navigateToPage:e=>{n(e)}})})}},5750:function(e){e.exports={advancedOptions:"AdvancedOptions_advancedOptions__U_AJ8",toggleButton:"AdvancedOptions_toggleButton__XLlks",arrow:"AdvancedOptions_arrow__k3bZp",expanded:"AdvancedOptions_expanded__HNi4H",optionsContent:"AdvancedOptions_optionsContent__GPDMg",optionGroup:"AdvancedOptions_optionGroup__OOm8x",dimensionsGroup:"AdvancedOptions_dimensionsGroup__ZpRlO",dimensionInput:"AdvancedOptions_dimensionInput__zrepm",slider:"AdvancedOptions_slider__FltVW",select:"AdvancedOptions_select__kAZWA"}},477:function(e){e.exports={dropZone:"DragDropZone_dropZone__oUb_I",fileInput:"DragDropZone_fileInput__MR_EW",dropZoneLabel:"DragDropZone_dropZoneLabel__IYhJ7",dropZoneContent:"DragDropZone_dropZoneContent__6qjPL",fileList:"DragDropZone_fileList__fsrmm",fileItem:"DragDropZone_fileItem__X5_n6"}},3185:function(e){e.exports={fileLists:"FileList_fileLists__hXYt2",fileListSection:"FileList_fileListSection__BdMcW",fileList:"FileList_fileList__WoRgq",fileItem:"FileList_fileItem__cDndl",fileInfo:"FileList_fileInfo__kb1X8",fileName:"FileList_fileName__M3KMs",progressWrapper:"FileList_progressWrapper__SEnid",progressBar:"FileList_progressBar__NfDJn",progressText:"FileList_progressText__rMj4Q",downloadButton:"FileList_downloadButton__WPfX8",downloadAllWrapper:"FileList_downloadAllWrapper__KK1Qf",downloadAllButton:"FileList_downloadAllButton__bTfwQ"}},7792:function(e){e.exports={container:"Pages_container__PXnd_",main:"Pages_main__rqmk_",title:"Pages_title__T9bNM",description:"Pages_description__D6Mhh",code:"Pages_code__IdUdb",convertButton:"Pages_convertButton__sN3bH"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);